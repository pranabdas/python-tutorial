"use strict";(self.webpackChunkpython_tutorial=self.webpackChunkpython_tutorial||[]).push([["7697"],{3688:function(e,n,t){t.r(n),t.d(n,{default:()=>p,frontMatter:()=>o,metadata:()=>a,assets:()=>i,toc:()=>l,contentTitle:()=>r});var a=JSON.parse('{"id":"django/today-app","title":"Today app","description":"Now let\'s create another app called today. It will tell us what date it is,","source":"@site/docs/django/today-app.md","sourceDirName":"django","slug":"/django/today-app","permalink":"/python-tutorial/django/today-app","draft":false,"unlisted":false,"editUrl":"https://github.com/pranabdas/python-tutorial/blob/main/docs/django/today-app.md","tags":[],"version":"current","frontMatter":{"title":"Today app"},"sidebar":"docs","previous":{"title":"Django","permalink":"/python-tutorial/django/webapp"},"next":{"title":"Todo app","permalink":"/python-tutorial/django/todo-app"}}'),s=t("5893"),d=t("65");let o={title:"Today app"},r=void 0,i={},l=[{value:"Handling static files",id:"handling-static-files",level:3}];function c(e){let n={code:"code",h3:"h3",p:"p",pre:"pre",strong:"strong",...(0,d.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.p,{children:["Now let's create another app called ",(0,s.jsx)(n.strong,{children:"today"}),". It will tell us what date it is,\nwhat day it is and and greeting based on the time of the day."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Step 1:"})," Create our app:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"django-admin startapp today\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Install the app"})," in our main Django project. Go to ",(0,s.jsx)(n.code,{children:"myWebApp/settings.py"})," and\ninclude ",(0,s.jsx)(n.code,{children:"today"})," in the installed app list."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Register the url:"})," Go to ",(0,s.jsx)(n.code,{children:"myWebApp/urls.py"})," and include the following path:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"path('today/', include(\"today.urls\")),\n"})}),"\n",(0,s.jsxs)(n.p,{children:["However, our ",(0,s.jsx)(n.code,{children:"today.urls"})," does not exist yet. so create ",(0,s.jsx)(n.code,{children:"today/urls.py"})," and put\nthe following content:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"from django.urls import path\nfrom . import views\n\nurlpatterns = [\n    path('', views.index, name='index'),\n]\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Create the views"})," Go to ",(0,s.jsx)(n.code,{children:"today/views.py"})," and write the following index\nfunction:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'from django.shortcuts import render\nimport datetime\n\ndef index(request):\n    """Today app index"""\n\n    t = datetime.datetime.now()\n\n    if (t.hour < 12):\n        greet_message = "Good morning!"\n    elif (t.hour < 18):\n        greet_message = "Good afternoon!"\n    elif (t.hour < 21):\n        greet_message = "Good evening!"\n    else:\n        greet_message = "Good night!"\n\n    date_message = "Today\'s date: " + str(t.day) + "/" + str(t.month) + "/" + \\\n            str(t.year)\n\n    if (t.weekday == 1):\n        day_message = "Today is Monday."\n    elif (t.weekday == 2):\n        day_message = "Today is Tuesday."\n    elif (t.weekday == 3):\n        day_message = "Today is Wednesday."\n    elif (t.weekday == 4):\n        day_message = "Today is Thursday."\n    elif (t.weekday == 5):\n        day_message = "Today is Friday."\n    elif (t.weekday == 6):\n        day_message = "Today is Saturday."\n    else:\n        day_message = "Today is Sunday."\n\n    return render(request, "today/index.html", {\n        "greet_message": greet_message,\n        "date_message": date_message,\n        "day_message": day_message\n        })\n'})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Create webpage:"})," Create the template directory and index page:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"mkdir -p today/templates/today\nvi today/templates/today/index.html\n"})}),"\n",(0,s.jsx)(n.p,{children:"Let's put following content:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-html",children:"<html>\n        <head>\n                <title>Today app</title>\n        </head>\n        <body>\n                <p>{{ greet_message }}</p>\n                <p>{{ date_message }}</p>\n                <p>{{ day_message }}</p>\n        </body>\n</html>\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Now we can runserver and visit ",(0,s.jsx)(n.code,{children:"localhost:8000/today"})]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"python3 manage.py runserver\n"})}),"\n",(0,s.jsx)(n.p,{children:"Now we get the idea. We can use any python logic to populate our html page."}),"\n",(0,s.jsx)(n.h3,{id:"handling-static-files",children:"Handling static files"}),"\n",(0,s.jsxs)(n.p,{children:["Let's say we want to style the webpage with css. Django convention is to create\na directory: ",(0,s.jsx)(n.code,{children:"today/static/today/"})," and put our ",(0,s.jsx)(n.code,{children:"styles.css"})," there."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-css",children:"html {\n        font-family: Arial, sans-serif;\n        color: darkblue;\n        text-align: center;\n}\n\np {\n        font-size: 2em;\n}\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Now let's go to our ",(0,s.jsx)(n.code,{children:"today/templates/today/index.html"}),", load the static file and\nadd the stylesheet in our head section:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-html",children:"{% load static %}\n<html>\n        <head>\n                <link rel=\"stylesheet\" href={% static 'today/styles.css' %}>\n                <title>Today app</title>\n        </head>\n        <body>\n                <p>{{ greet_message }}</p>\n                <p>{{ date_message }}</p>\n                <p>{{ day_message }}</p>\n        </body>\n</html>\n"})})]})}function p(e={}){let{wrapper:n}={...(0,d.a)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},65:function(e,n,t){t.d(n,{Z:function(){return r},a:function(){return o}});var a=t(7294);let s={},d=a.createContext(s);function o(e){let n=a.useContext(d);return a.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),a.createElement(d.Provider,{value:n},e.children)}}}]);