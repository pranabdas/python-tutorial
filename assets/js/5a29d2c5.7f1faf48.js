"use strict";(self.webpackChunkpython_tutorial=self.webpackChunkpython_tutorial||[]).push([["801"],{5073:function(n,e,o){o.r(e),o.d(e,{frontMatter:()=>a,default:()=>p,toc:()=>l,metadata:()=>t,assets:()=>i,contentTitle:()=>s});var t=JSON.parse('{"id":"django/todo-app","title":"Todo app","description":"Now let\'s create slightly more advanced a To Do List app. We can create the app","source":"@site/docs/django/todo-app.md","sourceDirName":"django","slug":"/django/todo-app","permalink":"/python-tutorial/django/todo-app","draft":false,"unlisted":false,"editUrl":"https://github.com/pranabdas/python-tutorial/blob/main/docs/django/todo-app.md","tags":[],"version":"current","frontMatter":{"title":"Todo app"},"sidebar":"docs","previous":{"title":"Today app","permalink":"/python-tutorial/django/today-app"},"next":{"title":"Airline app","permalink":"/python-tutorial/django/airline"}}'),d=o(5893),r=o(65);let a={title:"Todo app"},s=void 0,i={},l=[];function c(n){let e={code:"code",p:"p",pre:"pre",...(0,r.a)(),...n.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(e.p,{children:"Now let's create slightly more advanced a To Do List app. We can create the app\nby:"}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-bash",children:"python3 manage.py startapp todo\n"})}),"\n",(0,d.jsxs)(e.p,{children:["Register the app in our main django application ",(0,d.jsx)(e.code,{children:"myWebApp/settings.py"})]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-python",children:"INSTALLED_APPS = [\n    'django.contrib.admin',\n    'django.contrib.auth',\n    'django.contrib.contenttypes',\n    'django.contrib.sessions',\n    'django.contrib.messages',\n    'django.contrib.staticfiles',\n\n    # my apps\n    'hello',\n    'today',\n    'todo',\n]\n"})}),"\n",(0,d.jsxs)(e.p,{children:["Register the url in ",(0,d.jsx)(e.code,{children:"myWebApp/urls.py"}),":"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-python",children:"from django.contrib import admin\nfrom django.urls import path, include\n\nurlpatterns = [\n    path('admin/', admin.site.urls),\n    path('hello/', include('hello.urls')),\n    path('today/', include(\"today.urls\")),\n    path('todo/', include('todo.urls')),\n]\n"})}),"\n",(0,d.jsxs)(e.p,{children:["Our todo urls does not exist yet, so let's create ",(0,d.jsx)(e.code,{children:"todo/urls.py"})," with following\ncontent:"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-python",children:"from django.urls import path\nfrom . import views\n\nurlpatterns = [\n    path('', views.index, name='index'),\n]\n"})}),"\n",(0,d.jsxs)(e.p,{children:["Write index function in ",(0,d.jsx)(e.code,{children:"todo/views.py"}),":"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-python",children:'from django.shortcuts import render\n\n# Create your views here.\n\ntodo = ["item1", "item2", "item3"]\n\ndef index(request):\n    return render(request, \'todo/index.html\', {\n        \'todo\': todo\n    })\n'})}),"\n",(0,d.jsxs)(e.p,{children:["Crete our ",(0,d.jsx)(e.code,{children:"todo/templates/todo/index.html"})," page:"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-html",children:"<html>\n        <head>\n                <title>To Do App</title>\n        </head>\n        <body>\n                <ul>\n                        {% for item in todo %}\n                                <li>{{ item }}</li>\n                        {% endfor %}\n                </ul>\n        </body>\n</html>\n"})}),"\n",(0,d.jsxs)(e.p,{children:["Now we can ",(0,d.jsx)(e.code,{children:"python3 manage.py runserver"})," and check ",(0,d.jsx)(e.code,{children:"http://localhost:8000/todo/"})]}),"\n",(0,d.jsx)(e.p,{children:"Let's add the functionality to add todo items. Write a new view function:"}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-python",children:"def addtodo(request):\n    return render(request, 'todo/add.html')\n"})}),"\n",(0,d.jsxs)(e.p,{children:["Include it in our ",(0,d.jsx)(e.code,{children:"todo/urls.py"}),":"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-python",children:"from django.urls import path\nfrom . import views\n\napp_name = 'todo'\n\nurlpatterns = [\n    path('', views.index, name='index'),\n    path('add', views.addtodo, name='addtodo'),\n]\n"})}),"\n",(0,d.jsxs)(e.p,{children:["Create ",(0,d.jsx)(e.code,{children:"todo/templates/todo/add.html"}),":"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-html",children:'<html>\n        < head>\n                <title>Todo app</title>\n        < /head>\n        <body>\n                <h3>Add To Do Item</h3>\n                <form>\n                        <input type="text" name="todo">\n                        <input type="submit">\n                </form>\n        </body>\n</html>\n'})}),"\n",(0,d.jsxs)(e.p,{children:["Our add.html and index.html are very similar except the body part. We can use\ntemplates in such cases. Create ",(0,d.jsx)(e.code,{children:"todo/templates/base.html"}),":"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-html",children:"<html>\n        <head>\n                <title>Todo app</title>\n        </head>\n        <body>\n                {% block bodycontent %}\n                {% endblock %}\n        </body>\n</html>\n"})}),"\n",(0,d.jsx)(e.p,{children:"Rewrite our index.html:"}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-html",children:"{% extends 'todo/base.html' %}\n\n{% block bodycontent %}\n    <h1>To Do List</h1>\n    <ul>\n        {% for item in todo %}\n            <li>{{ item }}</li>\n        {% endfor %}\n    </ul>\n    <a href=\"{% url 'todo:addtodo' %}\">Add To Do</a>\n{% endblock %}\n"})}),"\n",(0,d.jsx)(e.p,{children:"Rewrite our add.html:"}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-html",children:'{% extends \'todo/base.html\' %}\n\n{% block bodycontent %}\n    <h3>Add To Do Item</h3>\n    <form>\n            <input type="text" name="todo">\n            <input type="submit">\n    </form>\n    <a href="{% url \'todo:index\' %}">Go back to To Do list</a>\n{% endblock %}\n'})}),"\n",(0,d.jsxs)(e.p,{children:["Instead of using html forms, we can use Django form. Modify ",(0,d.jsx)(e.code,{children:"todo/vies.py"}),":"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-python",children:'from django.shortcuts import render\nfrom django import forms\n\n# Create your views here.\n\ntodo = ["item1", "item2", "item3"]\n\nclass AddTodo(forms.Form):\n    AddTodo = forms.CharField(label="Add To do")\n\ndef index(request):\n    return render(request, \'todo/index.html\', {\n        \'todo\': todo\n    })\n\ndef addtodo(request):\n    return render(request, \'todo/add.html\', {\n        "form": AddTodo\n        })\n'})}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-html",children:'{% extends \'todo/base.html\' %}\n\n{% block bodycontent %}\n    <h3>Add To Do Item</h3>\n    <form action="{% url \'todo:addtodo\'  %}" method="POST">\n            {% csrf_token  %}\n            {{ form }}\n            <input type="submit">\n    </form>\n    <a href="{% url \'todo:index\' %}">Go back to To Do list</a>\n{% endblock %}\n'})}),"\n",(0,d.jsx)(e.p,{children:"We have to add the ability to add the tasks:"}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-python",children:'from django.shortcuts import render\nfrom django import forms\nfrom django.http import HttpResponseRedirect\nfrom django.urls import reverse\n\ntodo = ["item1", "item2", "item3"]\n\nclass AddTodo(forms.Form):\n    AddTodo = forms.CharField(label="Add To do")\n\ndef index(request):\n    return render(request, \'todo/index.html\', {\n        \'todo\': todo\n    })\n\ndef addtodo(request):\n    if request.method == "POST":\n        form = AddTodo(request.POST)\n        if form.is_valid():\n            new_todo = form.clean_data[\'AddTodo\']\n            todo.append(new_todo)\n            return HttpResponseRedirect(reverse("todo:index"))\n        else:\n            return render(request, \'todo/add.html\', {\n                "form": form\n                })\n\n    return render(request, \'todo/add.html\', {\n        "form": AddTodo\n        })\n'})})]})}function p(n={}){let{wrapper:e}={...(0,r.a)(),...n.components};return e?(0,d.jsx)(e,{...n,children:(0,d.jsx)(c,{...n})}):c(n)}},65:function(n,e,o){o.d(e,{Z:()=>s,a:()=>a});var t=o(7294);let d={},r=t.createContext(d);function a(n){let e=t.useContext(r);return t.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function s(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(d):n.components||d:a(n.components),t.createElement(r.Provider,{value:e},n.children)}}}]);