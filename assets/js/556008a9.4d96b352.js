"use strict";(self.webpackChunkpython_tutorial=self.webpackChunkpython_tutorial||[]).push([["9931"],{3026:function(n,e,t){t.r(e),t.d(e,{frontMatter:()=>l,default:()=>p,toc:()=>c,metadata:()=>s,assets:()=>o,contentTitle:()=>r});var s=JSON.parse('{"id":"matplotlib/image-plot","title":"Image plot","description":"Here we will read some two dimensional array data from web url.","source":"@site/docs/matplotlib/image-plot.md","sourceDirName":"matplotlib","slug":"/matplotlib/image-plot","permalink":"/python-tutorial/matplotlib/image-plot","draft":false,"unlisted":false,"editUrl":"https://github.com/pranabdas/python-tutorial/blob/main/docs/matplotlib/image-plot.md","tags":[],"version":"current","frontMatter":{"title":"Image plot"},"sidebar":"docs","previous":{"title":"Contour plot","permalink":"/python-tutorial/matplotlib/contour-plot"},"next":{"title":"Function plot","permalink":"/python-tutorial/matplotlib/function-plot"}}'),a=t(5893),i=t(65);let l={title:"Image plot"},r=void 0,o={},c=[{value:"pcolormesh",id:"pcolormesh",level:3}];function m(n){let e={annotation:"annotation",code:"code",h3:"h3",math:"math",mi:"mi",mo:"mo",mrow:"mrow",p:"p",pre:"pre",semantics:"semantics",span:"span",...(0,i.a)(),...n.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(e.p,{children:"Here we will read some two dimensional array data from web url."}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"import urllib\nurl = \"https://pranabdas.github.io/drive/datasets/arpes/sample_spectrum.txt\"\nheaders = {'User-Agent': 'Mozilla/5.0'}\nreq = urllib.request.Request(url = url, headers = headers)\ndata = urllib.request.urlopen(req).read().decode()\n"})}),"\n",(0,a.jsx)(e.p,{children:"Write a helper function to extract data:"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:'def load_data(data) :\n    import numpy as np\n    contents = data.splitlines()\n    energy_length = contents[7]\n    start_string = contents[7].find("=") + 1\n    end_string = len(contents[7])\n    energy_length = int(contents[7][start_string : end_string])\n\n    angle_length = contents[10]\n    start_string = contents[10].find("=") + 1\n    end_string = len(contents[10])\n    angle_length = int(contents[10][start_string : end_string])\n\n    angle = contents[11]\n    start_string = contents[11].find("=") + 1\n    end_string = len(contents[11])\n    angle_temp = contents[11][start_string : end_string]\n\n    angle = np.linspace(0, 0, angle_length)\n\n    start_string = 0\n    for ii in range(angle_length):\n        end_string = angle_temp.find(" ", start_string)\n        angle[ii] = float(angle_temp[start_string : end_string])\n        start_string = end_string + 1\n\n    energy = np.linspace(0, 0, energy_length)\n\n    intensity = np.ndarray((energy_length, angle_length))\n\n    for ii in range(energy_length):\n        intensity_temp = contents[57 + ii]\n        end_string = len(intensity_temp)\n        intensity_temp = intensity_temp[1 : end_string]\n\n        start_string = 0\n        for jj in range(angle_length + 1):\n            end_string = intensity_temp.find("  ", start_string)\n            if jj == 0 :\n                energy[ii] = float(intensity_temp[start_string : end_string])\n                start_string = end_string + 1\n            elif jj > 0 :\n                intensity[ii][jj - 1] = float(intensity_temp[start_string : \\\n                         end_string])\n                start_string = end_string + 1\n    return energy, angle, intensity\n'})}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"import matplotlib.pyplot as plt\n%matplotlib inline\nplt.rcParams[\"figure.dpi\"]=150\nplt.rcParams[\"figure.facecolor\"]=\"white\"\n\nenergy, angle, spectra = load_data(data)\n\nplt.imshow(spectra, origin = 'lower', aspect = 'auto')\nplt.set_cmap('magma_r')\nplt.show()\n"})}),"\n",(0,a.jsx)("img",{src:t(3223).Z,alt:"image-plot"}),"\n",(0,a.jsx)(e.p,{children:"With some customizations:"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"plt.imshow(spectra, origin = 'lower', aspect = 'auto', \\\n           extent = (angle[0], angle[-1], energy[0], energy[-1]))\nplt.xlabel(\"$\\\\theta$ (deg)\")\nplt.ylabel('$E_{kin}$ (eV)')\nplt.set_cmap('magma_r')\nplt.show()\n"})}),"\n",(0,a.jsx)("img",{src:t(238).Z,alt:"image-plot-2"}),"\n",(0,a.jsx)(e.h3,{id:"pcolormesh",children:"pcolormesh"}),"\n",(0,a.jsxs)(e.p,{children:["There is also MATLAB style image plot function, which accepts ",(0,a.jsxs)(e.span,{className:"katex",children:[(0,a.jsx)(e.span,{className:"katex-mathml",children:(0,a.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,a.jsxs)(e.semantics,{children:[(0,a.jsx)(e.mrow,{children:(0,a.jsx)(e.mi,{children:"x"})}),(0,a.jsx)(e.annotation,{encoding:"application/x-tex",children:"x"})]})})}),(0,a.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,a.jsxs)(e.span,{className:"base",children:[(0,a.jsx)(e.span,{className:"strut",style:{height:"0.4306em"}}),(0,a.jsx)(e.span,{className:"mord mathnormal",children:"x"})]})})]}),", ",(0,a.jsxs)(e.span,{className:"katex",children:[(0,a.jsx)(e.span,{className:"katex-mathml",children:(0,a.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,a.jsxs)(e.semantics,{children:[(0,a.jsx)(e.mrow,{children:(0,a.jsx)(e.mi,{children:"y"})}),(0,a.jsx)(e.annotation,{encoding:"application/x-tex",children:"y"})]})})}),(0,a.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,a.jsxs)(e.span,{className:"base",children:[(0,a.jsx)(e.span,{className:"strut",style:{height:"0.625em",verticalAlign:"-0.1944em"}}),(0,a.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"},children:"y"})]})})]}),", and\n",(0,a.jsxs)(e.span,{className:"katex",children:[(0,a.jsx)(e.span,{className:"katex-mathml",children:(0,a.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,a.jsxs)(e.semantics,{children:[(0,a.jsxs)(e.mrow,{children:[(0,a.jsx)(e.mi,{children:"f"}),(0,a.jsx)(e.mo,{stretchy:"false",children:"("}),(0,a.jsx)(e.mi,{children:"x"}),(0,a.jsx)(e.mo,{separator:"true",children:","}),(0,a.jsx)(e.mi,{children:"y"}),(0,a.jsx)(e.mo,{stretchy:"false",children:")"})]}),(0,a.jsx)(e.annotation,{encoding:"application/x-tex",children:"f(x,y)"})]})})}),(0,a.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,a.jsxs)(e.span,{className:"base",children:[(0,a.jsx)(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,a.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.10764em"},children:"f"}),(0,a.jsx)(e.span,{className:"mopen",children:"("}),(0,a.jsx)(e.span,{className:"mord mathnormal",children:"x"}),(0,a.jsx)(e.span,{className:"mpunct",children:","}),(0,a.jsx)(e.span,{className:"mspace",style:{marginRight:"0.1667em"}}),(0,a.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"},children:"y"}),(0,a.jsx)(e.span,{className:"mclose",children:")"})]})})]})," as inputs. Let us also set a different colormap style."]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-python",children:"plt.pcolormesh(angle, energy, spectra, cmap='jet', shading='auto')\nplt.show()\n"})}),"\n",(0,a.jsx)("img",{src:t(6556).Z,alt:"pcolormesh"})]})}function p(n={}){let{wrapper:e}={...(0,i.a)(),...n.components};return e?(0,a.jsx)(e,{...n,children:(0,a.jsx)(m,{...n})}):m(n)}},238:function(n,e,t){t.d(e,{Z:()=>s});let s=t.p+"assets/images/image-plot-2-234e26552cb8fe3d0f4e15c97afd512e.webp"},3223:function(n,e,t){t.d(e,{Z:()=>s});let s=t.p+"assets/images/image-plot-660a6b4486258e38b8355bdd285c7225.webp"},6556:function(n,e,t){t.d(e,{Z:()=>s});let s=t.p+"assets/images/pcolormesh-92dd62d555e0b82c22550af20fb743d6.webp"},65:function(n,e,t){t.d(e,{Z:()=>r,a:()=>l});var s=t(7294);let a={},i=s.createContext(a);function l(n){let e=s.useContext(i);return s.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function r(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(a):n.components||a:l(n.components),s.createElement(i.Provider,{value:e},n.children)}}}]);